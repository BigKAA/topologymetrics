name: "initial-state"
description: "До первой проверки метрики не экспортируются (после initialDelay)"

# Этот сценарий запускается сразу после деплоя тестового сервиса,
# до завершения initialDelay.
# Проверяет, что метрик ещё нет.

pre_actions:
  - type: wait
    seconds: 1

checks:
  # На этом этапе метрики могут отсутствовать (если initialDelay ещё не прошёл).
  # Или могут присутствовать, если initialDelay уже завершился.
  # Основная проверка: если метрика есть, она должна быть 0 или 1 (не какое-то
  # промежуточное значение).
  - type: health_values

  # If status metrics are present, they must be consistent with health
  - type: status_health_consistency
